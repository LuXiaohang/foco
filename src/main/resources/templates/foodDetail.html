<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" th:href="@{~/css/materialize.min.css}" media="screen,projection" />
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>

    <link type="text/css" rel="stylesheet" th:href="@{~/css/main.css}" />

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8">
    <title>Foco</title>
</head>

<body>
<!-- Header start -->
<header class="main-header">
    <nav class="transparent">
        <div class="container">
            <div class="nav-wrapper">
                <a href="#" class="brand-logo">Foco</a>
                <a href="#" data-target="slide-out" class="sidenav-trigger">
                    <i class="fa fa-bars"></i>
                </a>
                <ul class="right hide-on-med-and-down">
                    <li>
                        <a href="/index">Home</a>
                    </li>
                    <li>
                        <a href="/about">About</a>
                    </li>
                    <li>
                        <a href="/suggestion" th:text="${message}">Suggest</a>
                    </li>
                    <li>
                        <a href="http://facebook.com">
                            <i class="fab fa-facebook"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com">
                            <i class="fab fa-twitter"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://instagram.com">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </li>
                </ul>
                <ul class="sidenav" id="slide-out">
                    <h4 class="green-text text-darken-4 center">Foco</h4>
                    <li>
                        <div class="divider"></div>
                    </li>
                    <li>
                        <a href="/index">
                            <i class="fa fa-home grey-text text-darken-4"></i>&nbsp;Home</a>
                    </li>
                    <li>
                        <a href="/about">
                            <i class="fa fa-cog grey-text text-darken-4"></i>&nbsp;About</a>
                    </li>
                    <li>
                        <div class="divider"></div>
                    </li>
                    <li>
                        <a href="/suggestion" th:text="${message}">Suggest</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Showcase start -->
    <div class="showcase container">
        <div class="class card-panel">
            <div class = "row">
                <div class="col s12 m5">
                    <div class = "card-image">
                        <img th:src="@{~/image/{imageName}(imageName=${foodInfo.img})}" alt="" class="square responsive-img">
                        <p class="grey-text">shared by <span th:text="${foodInfo.name}"></span></p>
                    </div>
                </div>
                <div class="col s12 m7">
                    <h3 class="grey-text text-darken-4" th:text="${foodInfo.foodType}">Grilled Pork Ribs</h3>
                    <h5 class="grey-text" th:text="${foodInfo.location}">Tata Innovation Center</h5>
                    <p class="grey-text text-darken-4" th:text="${foodInfo.description}"> There are a bunch of leftover grilled pork ribs on 2nd flr, Tata.
                        Come get it before 4pm!</p>
                </div>
            </div>
            <div class ="row">
                <div class="divider">
                </div>
            </div>
            <div class ="row">
                <div class="col s12 m12">
                    <div class ="card-content">
                    	<form th:action="@{/insertFoodComment/{foodId}(foodId=${foodInfo.id})}" th:object="${foodComment}" onsubmit="return validate_form(this)" method="post">
                            <div class="row">
                    	<div class="form-field col m8 s12">
                            <label for="comment">Insert your comment</label>
                            <input id="comment" th:field="${foodComment.comment}" type="text" />
                        </div>
                       <div class="form-field col m4 s12">
                           <br />
                            <button class="btn-small waves-effect waves-dark green" type="submit">Share Comment</button>
                        </div>
                            </div>
                    </form>
                    </div>
                </div>
            </div>
            <div class="row card-panel" th:each="comment:${foodComments}">
            	<p class="grey-text text-darken-4" th:text="${comment.comment}">Comment 1 Comment 1 Comment 1 Comment 1 Comment 1 Comment 1 Comment 1 Comment 1 </p>
            </div>
        </div>
    </div>
    <!-- Showcase end -->

</header>
<!-- Header end -->

<!--Import jQuery before materialize.js-->
<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" th:src="@{~/js/materialize.min.js}"></script>
<script>
    $(document).ready(function () {
        //Init sidenav
        $('.sidenav').sidenav();
        //Init carousel
        $('.carousel.carousel-slider').carousel({
            fullWidth: true,
            indicators: true
        });

        $('.button-collapse').sideNav();
        $('.modal').modal();
    });
    function validate_required(field,alerttxt)
    {
        with (field)
        {
            if (value==null||value=="")
            {alert(alerttxt);return false}
            else {return true}
        }
    }

    function validate_form(thisform)
    {
        with (thisform)
        {
            if (validate_required(comment,"Comment must be filled out!")==false)
            {comment.focus();return false}
        }
    }
</script>

</body>


</html>